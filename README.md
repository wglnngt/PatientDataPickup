# PatientDataPickup
============================================================================


History:



[2018/12/25]

1.输出信息转为英文提示。



[2018/07/06]

1.修正对出院状态输入的正确标定，对应Alive的应为Expired。



[2018/07/05]

1.对所有数据操作进行计数，并对目标数据进行单独计数。



[2018/06/28]

1.修正日志中总时间显示错误问题。



[2018/06/25]

1.添加查询日志，记录查询关键字，日期，以及查询结果。



[2018/06/21]

1.优化大量查询流程，大量重复查询内容载入内存，避免过多文件

  读取操作，加快查询速度。

2.CSV文件遍历与数据分析由自写方法改为Import-CSV,加快运算速度。

3.优化条件判断方式，由外部工具改为内部方法，效率提升千倍！！！

4.删表异常捕获。



[2018/06/20]

1.添加临时文件与输出文件后缀，可以运行多任务。

2.后缀组合规则:_ageMin_ageMax_gender_status_icd9code_date。

3.修正二次筛选时的重复判断标志错误而导致的零结果情况。

4.筛选过程显示优化。

5.代码库加入ICD9CODE对照表。

6.替换ADOX.CATALOG创建数据库失败的方案，尿性！！！

7.加入空白模板数据库。



[2018/06/15]

1.更改ICD9CODE输入方式：按ICD9对照表输入。



[2018/06/11]

1.统一输出格式，核心功能输出添加标识。

2.修正BUG。

3.放开输入接口，接受用户指定参数。



[2018/06/10]

1.优化初始化，与初筛、二筛输出，避免大内存占用。

2.从第一行取得patientunitstayid所在列数，用于后

  期取得值与前二筛结果对比。

3.补全代码逻辑，结果基于前二筛的ID号符合数据添入数据库。



[2018/06/08]

1.添加数据库写入功能：

 1)自动创建

 2)自动建表

 3)批量写入

2.修正带引号字符串处理时，同行带空字符串带来的列减少影响。

TODO:

  1.根据筛选结果选择性写数据入数据库。

  2.优化数据筛选过程，减少对内存的大量引用。加快分析速度。



[2018/05/28]

1.第二次筛选处理，得到最终ID列表。

2.输出ID列表，并规定列表文件编码格式为ascii，避免默认编码带来的识别问题。

TODO:

  根据生成的最终列表，写入筛选后的数据库。

  

[2018/05/21]

1.修正CSV格式列解析，完善对含有引号列且含逗号的列数

 统计。

2.测试对diagnosis.txt进行二次筛选方法。

3.优化流程，减少行处理次数。

4.第一次ID筛选结果输出。避免内存被撑爆。



[2018/04/30]

1.添加数据库功能模块。

2.添加输入处理。




